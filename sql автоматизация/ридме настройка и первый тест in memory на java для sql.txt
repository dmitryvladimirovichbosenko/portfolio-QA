–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö SQL-—Ç–µ—Å—Ç–æ–≤
–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

Java + JUnit ‚Äî –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

JDBC ‚Äî —á—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –±–∞–∑–µ

H2 Database (–∏–ª–∏ PostgreSQL/MySQL, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ) ‚Äî –∫–∞–∫ —Ç–µ—Å—Ç–æ–≤—É—é –ë–î

üîß –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏ JDK –∏ IntelliJ IDEA
1. –£—Å—Ç–∞–Ω–æ–≤–∏ Java (JDK)
–°–∫–∞—á–∞–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏ JDK:
üëâ https://adoptium.net/en-GB/temurin/releases/

–ü—Ä–æ–≤–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
java -version
–£–≤–∏–¥–∏—à—å –ø—Ä–∏–º–µ—Ä–Ω–æ:

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
openjdk 17.0.8
2. –£—Å—Ç–∞–Ω–æ–≤–∏ IntelliJ IDEA
–°–∫–∞—á–∞–π:
üëâ https://www.jetbrains.com/idea/download

–í—ã–±–µ—Ä–∏ Community Edition (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è).

üìÅ –®–∞–≥ 2: –°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç –≤ IntelliJ IDEA
–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Java-–ø—Ä–æ–µ–∫—Ç

–í—ã–±–µ—Ä–∏ JDK 17 (–∏–ª–∏ —Ç–æ, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)

–ù–∞–∑–æ–≤–∏ –ø—Ä–æ–µ–∫—Ç SQLAutoTest

–ù–∞–∂–º–∏ ¬´Create¬ª

üì¶ –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª pom.xml (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Maven) –∏ –¥–æ–±–∞–≤—å:
–≤ xml

1.

<dependencies>
  <dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter</artifactId>
    <version>5.10.0</version>
    <scope>test</scope>
  </dependency>

  <dependency>
    <groupId>com.h2database</groupId>
    <artifactId>h2</artifactId>
    <version>2.2.224</version>
  </dependency>
</dependencies>

2.!

<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <groupId>com.example</groupId>
    <artifactId>SQLAutoTest</artifactId>
    <version>1.0-SNAPSHOT</version>

    <dependencies>
        <!-- JUnit 5 -->
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter</artifactId>
            <version>5.10.0</version>
            <scope>test</scope>
        </dependency>

        <!-- H2 Database -->
        <dependency>
            <groupId>com.h2database</groupId>
            <artifactId>h2</artifactId>
            <version>2.2.224</version>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JUnit 5 -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>3.1.2</version>
            </plugin>
        </plugins>
    </build>
</project>

üî∏ –≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:

JUnit 5 ‚Äî –¥–ª—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤

H2 ‚Äî —Ç–µ—Å—Ç–æ–≤–∞—è in-memory –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–∏—á–µ–≥–æ —Å—Ç–∞–≤–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!)

üß™ –®–∞–≥ 4: –ù–∞–ø–∏—à–∏ –ø—Ä–æ—Å—Ç–æ–π SQL-—Ç–µ—Å—Ç
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª src/test/java/SqlTest.java –∏ –≤—Å—Ç–∞–≤—å –∫–æ–¥:

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
import org.junit.jupiter.api.*;
import java.sql.*;

public class SqlTest {

    static Connection conn;

    @BeforeAll
    static void setup() throws SQLException {
        conn = DriverManager.getConnection("jdbc:h2:mem:testdb", "sa", "");
        Statement stmt = conn.createStatement();
        stmt.execute("CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(100))");
        stmt.execute("INSERT INTO users VALUES (1, 'Dima'), (2, 'Ivan')");
    }

    @Test
    void testUserCount() throws SQLException {
        Statement stmt = conn.createStatement();
        ResultSet rs = stmt.executeQuery("SELECT COUNT(*) FROM users");
        rs.next();
        int count = rs.getInt(1);
        Assertions.assertEquals(2, count); // –æ–∂–∏–¥–∞–µ–º 2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    }

    @AfterAll
    static void teardown() throws SQLException {
        conn.close();
    }
}
‚ñ∂Ô∏è –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç
–ù–∞–∂–º–∏ –∑–µ–ª—ë–Ω—É—é —Å—Ç—Ä–µ–ª–∫—É —Å–ª–µ–≤–∞ –æ—Ç testUserCount()

–£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–Ω –ø—Ä–æ—à—ë–ª ‚úÖ

üîÑ –ß—Ç–æ —Ç—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–¥–µ–ª–∞–ª?
–°–æ–∑–¥–∞–ª in-memory –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ –≤ –ø–∞–º—è—Ç–∏)

–°–æ–∑–¥–∞–ª —Ç–∞–±–ª–∏—Ü—É users –∏ –≤—Å—Ç–∞–≤–∏–ª —Ç—É–¥–∞ 2 —Å—Ç—Ä–æ–∫–∏

–ù–∞–ø–∏—Å–∞–ª –∞–≤—Ç–æ—Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ 2 –∑–∞–ø–∏—Å–∏

–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –°–£–ë–î!